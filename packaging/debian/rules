#!/usr/bin/make -f

%:
	dh $@

override_dh_auto_install:
	# Create directories
	mkdir -p debian/uptime-logger/usr/local/bin
	mkdir -p debian/uptime-logger/etc/systemd/system

	# Copy Python scripts from uptime_logger/
	install -m 755 ../../uptime_logger/pc_uptime_logger.py debian/uptime-logger/usr/local/bin/
	install -m 755 ../../uptime_logger/delta_upload.py debian/uptime-logger/usr/local/bin/

	# Copy helper shell script if it exists
	[ -f ../../uptime_logger/delta_upload_cron.sh ] && install -m 755 ../../uptime_logger/delta_upload_cron.sh debian/uptime-logger/usr/local/bin/ || true

	# Copy systemd service files
	install -m 644 ../../services/uptime-logger.service debian/uptime-logger/etc/systemd/system/
	install -m 644 ../../services/uptime-logger-shutdown.service debian/uptime-logger/etc/systemd/system/
